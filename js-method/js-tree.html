<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script>
    var options = [{
        id: 12,
        label: 'zlc',
        list: [{
            id: 121,
            label: 'zlc1',
            name: 'hello'
          },
          {
            id: 122,
            label: 'zlc2',
            name: 'hello',
            list: [{
                id: 123,
                label: 'zlc3'
              },
              {
                id: 1233,
                label: 'zlc4',
                list: [{
                    id: 1234,
                    label: 'zlc6'
                  },
                  {
                    id: 1256,
                    label: 'zlc7'
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        id: 124,
        label: 'zlc5'
      }
    ]

    function iteration(array) {
      array.map((item, index) => {
        if (item.list && item.list.length) {
          item['value'] = item.id;
          item['isLeafe'] = true;
          item['children'] = item['list'];
          iteration(item['list']) //关键
          delete item['id'];
          delete item['list'];
        } else {
          item['value'] = item.id;
          item['isLeafe'] = false;
          delete item['id']
        }
      })
    }
    iteration(options);
    console.log(options)


    var obj = [{
      id: 1,
      name: '李四',
      list: [{
          id: 2,
          name: '网而言'
        },
        {
          id: 3,
          name: '睡觉觉',
          list: [{
              id: 23,
              name: '网而言'
            },
            {
              id: 2344,
              name: '大家还记得',
              list: [{
                id: 23,
                name: '网而言'
              }]
            }
          ]
        }
      ]
    },
    {
      id:99999,
      name:"都会记得记得"
    }]

    function tree(obj){
      obj.map((item,index)=>{
        if(item.list && item.list.length){
          item.label=item.id;
          item.value=item.name;
          item.children=item.list;
          tree(item.list);
          delete item.id;
          delete item.name;
          delete item.list;
        }else{
          item.label=item.id;
          item.value=item.name;
          delete item.id;
          delete item.name;
        }
      })
    }
    tree(obj);
    console.log(obj)
  </script>
</head>

<body>

</body>

</html>